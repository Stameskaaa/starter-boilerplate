(this.webpackJsonpemilus=this.webpackJsonpemilus||[]).push([[15],{530:function(e,a,s){"use strict";s.r(a);var t=s(0),n=s.n(t),i=s(274),c=s(545),m=s(543),r=s(128),l=s(544),d=s(509),o=s(510),j=s(452),b=s(465),h=s(31),u=s(175),p=s(5);class x extends t.Component{constructor(){super(...arguments),this.formRef=n.a.createRef(),this.avatarEndpoint="https://www.mocky.io/v2/5cc8019d300000980a055e76",this.state={avatarUrl:"/img/avatars/thumb-6.jpg",name:"Charlie Howard",email:"charlie.howard@themenate.com",userName:"Charlie",nameOfCompany:null,phoneNumber:"+44 (1532) 135 7921",website:"",address:"",city:"",postcode:""}}getBase64(e,a){const s=new FileReader;s.addEventListener("load",(()=>a(s.result))),s.readAsDataURL(e)}componentDidMount(){if(this.props.location.state){const e=this.props.location.state.state.user,a={name:e.name,userName:e.username,email:e.email,nameOfCompany:e.company.name,phoneNumber:e.phone,website:e.website,address:"".concat(e.address.street," ").concat(e.address.suite),city:e.address.city};this.formRef.current.setFieldsValue(a),this.setState(a)}}render(){const{name:e,email:a,userName:s,nameOfCompany:t,phoneNumber:n,website:x,address:O,city:y,postcode:f,avatarUrl:g}=this.state;return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(u.a,{alignItems:"center",mobileFlex:!1,className:"text-center text-md-left",children:[Object(p.jsx)(c.a,{size:90,src:g,icon:Object(p.jsx)(b.a,{})}),Object(p.jsxs)("div",{className:"ml-md-3 mt-md-0 mt-3",children:[Object(p.jsx)(m.a,{onChange:e=>{const a="updatable";"uploading"!==e.file.status?"done"===e.file.status&&(this.getBase64(e.file.originFileObj,(e=>this.setState({avatarUrl:e}))),i.b.success({content:"Uploaded!",key:a,duration:1.5})):i.b.loading({content:"Uploading...",key:a,duration:1e3})},showUploadList:!1,action:this.avatarEndpoint,children:Object(p.jsx)(r.a,{type:"primary",children:"Change Avatar"})}),Object(p.jsx)(r.a,{className:"ml-2",onClick:()=>{this.setState({avatarUrl:""})},children:"Remove"})]})]}),Object(p.jsx)("div",{className:"mt-4",children:Object(p.jsx)(l.a,{ref:this.formRef,name:"basicInformation",layout:"vertical",initialValues:{name:this.state.name,email:a,username:s,nameOfCompany:t,phoneNumber:n,website:x,address:O,city:y,postcode:f},onFinish:e=>{const a="updatable";i.b.loading({content:"Updating...",key:a}),setTimeout((()=>{this.setState({name:e.name,email:e.email,userName:e.userName,nameOfCompany:e.nameOfCompany,phoneNumber:e.phoneNumber,website:e.website,address:e.address,city:e.city,postcode:e.postcode}),i.b.success({content:"Done!",key:a,duration:2}),this.props.history.push("/home/main/clients/list")}),1e3)},onFinishFailed:e=>{console.log("Failed:",e)},children:Object(p.jsx)(d.a,{children:Object(p.jsxs)(o.a,{xs:24,sm:24,md:24,lg:16,children:[Object(p.jsxs)(d.a,{gutter:h.c,children:[Object(p.jsx)(o.a,{xs:24,sm:24,md:12,children:Object(p.jsx)(l.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please input your name!"}],children:Object(p.jsx)(j.a,{})})}),Object(p.jsx)(o.a,{xs:24,sm:24,md:12,children:Object(p.jsx)(l.a.Item,{label:"Username",name:"username",rules:[{required:!0,message:"Please input your username!"}],children:Object(p.jsx)(j.a,{})})}),Object(p.jsx)(o.a,{xs:24,sm:24,md:12,children:Object(p.jsx)(l.a.Item,{label:"Email",name:"email",rules:[{required:!0,type:"email",message:"Please enter a valid email!"}],children:Object(p.jsx)(j.a,{})})}),Object(p.jsx)(o.a,{xs:24,sm:24,md:12,children:Object(p.jsx)(l.a.Item,{label:"Name of Company",name:"nameOfCompany",children:Object(p.jsx)(j.a,{className:"w-100"})})}),Object(p.jsx)(o.a,{xs:24,sm:24,md:12,children:Object(p.jsx)(l.a.Item,{label:"Phone Number",name:"phoneNumber",children:Object(p.jsx)(j.a,{})})}),Object(p.jsx)(o.a,{xs:24,sm:24,md:12,children:Object(p.jsx)(l.a.Item,{label:"Website",name:"website",children:Object(p.jsx)(j.a,{})})}),Object(p.jsx)(o.a,{xs:24,sm:24,md:24,children:Object(p.jsx)(l.a.Item,{label:"Address",name:"address",children:Object(p.jsx)(j.a,{})})}),Object(p.jsx)(o.a,{xs:24,sm:24,md:12,children:Object(p.jsx)(l.a.Item,{label:"City",name:"city",children:Object(p.jsx)(j.a,{})})}),Object(p.jsx)(o.a,{xs:24,sm:24,md:12,children:Object(p.jsx)(l.a.Item,{label:"Post code",name:"postcode",children:Object(p.jsx)(j.a,{})})})]}),Object(p.jsx)(r.a,{type:"primary",htmlType:"submit",children:"Save Change"})]})})})})]})}}a.default=x}}]);
//# sourceMappingURL=15.82de1de7.chunk.js.map