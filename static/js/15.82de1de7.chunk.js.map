{"version":3,"sources":["views/app-views/home/main/clients/list/edit/index.js"],"names":["EditProfile","Component","constructor","arguments","formRef","React","createRef","avatarEndpoint","state","avatarUrl","name","email","userName","nameOfCompany","phoneNumber","website","address","city","postcode","getBase64","img","callback","reader","FileReader","addEventListener","result","readAsDataURL","componentDidMount","this","props","location","historyState","user","userData","username","company","phone","concat","street","suite","current","setFieldsValue","setState","render","_jsxs","_Fragment","children","Flex","alignItems","mobileFlex","className","_jsx","Avatar","size","src","icon","UserOutlined","Upload","onChange","info","key","file","status","originFileObj","imageUrl","message","success","content","duration","loading","showUploadList","action","Button","type","onClick","onRemoveAvater","Form","ref","layout","initialValues","onFinish","values","setTimeout","history","push","onFinishFailed","errorInfo","console","log","Row","Col","xs","sm","md","lg","gutter","ROW_GUTTER","Item","label","rules","required","Input","htmlType"],"mappings":"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","file":"static/js/15.82de1de7.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { Form, Avatar, Button, Input, Row, Col, message, Upload } from 'antd';\r\nimport { UserOutlined } from '@ant-design/icons';\r\nimport { ROW_GUTTER } from 'constants/ThemeConstant';\r\nimport Flex from 'components/shared-components/Flex';\r\n\r\nclass EditProfile extends Component {\r\n  formRef = React.createRef();\r\n  avatarEndpoint = 'https://www.mocky.io/v2/5cc8019d300000980a055e76';\r\n  state = {\r\n    avatarUrl: '/img/avatars/thumb-6.jpg',\r\n    name: 'Charlie Howard',\r\n    email: 'charlie.howard@themenate.com',\r\n    userName: 'Charlie',\r\n    nameOfCompany: null,\r\n    phoneNumber: '+44 (1532) 135 7921',\r\n    website: '',\r\n    address: '',\r\n    city: '',\r\n    postcode: '',\r\n  };\r\n\r\n  getBase64(img, callback) {\r\n    const reader = new FileReader();\r\n    reader.addEventListener('load', () => callback(reader.result));\r\n    reader.readAsDataURL(img);\r\n  }\r\n\r\n  componentDidMount() {\r\n    if (this.props.location.state) {\r\n      const historyState = this.props.location.state.state.user;\r\n      const userData = {\r\n        name: historyState.name,\r\n        userName: historyState.username,\r\n        email: historyState.email,\r\n        nameOfCompany: historyState.company.name,\r\n        phoneNumber: historyState.phone,\r\n        website: historyState.website,\r\n        address: `${historyState.address.street} ${historyState.address.suite}`,\r\n        city: historyState.address.city,\r\n      };\r\n\r\n      this.formRef.current.setFieldsValue(userData);\r\n      this.setState(userData);\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const onFinish = (values) => {\r\n      const key = 'updatable';\r\n      message.loading({ content: 'Updating...', key });\r\n      setTimeout(() => {\r\n        this.setState({\r\n          name: values.name,\r\n          email: values.email,\r\n          userName: values.userName,\r\n          nameOfCompany: values.nameOfCompany,\r\n          phoneNumber: values.phoneNumber,\r\n          website: values.website,\r\n          address: values.address,\r\n          city: values.city,\r\n          postcode: values.postcode,\r\n        });\r\n        message.success({ content: 'Done!', key, duration: 2 });\r\n        this.props.history.push('/home/main/clients/list');\r\n      }, 1000);\r\n    };\r\n\r\n    const onFinishFailed = (errorInfo) => {\r\n      console.log('Failed:', errorInfo);\r\n    };\r\n\r\n    const onUploadAavater = (info) => {\r\n      const key = 'updatable';\r\n      if (info.file.status === 'uploading') {\r\n        message.loading({ content: 'Uploading...', key, duration: 1000 });\r\n        return;\r\n      }\r\n      if (info.file.status === 'done') {\r\n        this.getBase64(info.file.originFileObj, (imageUrl) =>\r\n          this.setState({\r\n            avatarUrl: imageUrl,\r\n          }),\r\n        );\r\n        message.success({ content: 'Uploaded!', key, duration: 1.5 });\r\n      }\r\n    };\r\n\r\n    const onRemoveAvater = () => {\r\n      this.setState({\r\n        avatarUrl: '',\r\n      });\r\n    };\r\n\r\n    const {\r\n      name,\r\n      email,\r\n      userName,\r\n      nameOfCompany,\r\n      phoneNumber,\r\n      website,\r\n      address,\r\n      city,\r\n      postcode,\r\n      avatarUrl,\r\n    } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <Flex alignItems=\"center\" mobileFlex={false} className=\"text-center text-md-left\">\r\n          <Avatar size={90} src={avatarUrl} icon={<UserOutlined />} />\r\n          <div className=\"ml-md-3 mt-md-0 mt-3\">\r\n            <Upload onChange={onUploadAavater} showUploadList={false} action={this.avatarEndpoint}>\r\n              <Button type=\"primary\">Change Avatar</Button>\r\n            </Upload>\r\n            <Button className=\"ml-2\" onClick={onRemoveAvater}>\r\n              Remove\r\n            </Button>\r\n          </div>\r\n        </Flex>\r\n        <div className=\"mt-4\">\r\n          <Form\r\n            ref={this.formRef}\r\n            name=\"basicInformation\"\r\n            layout=\"vertical\"\r\n            initialValues={{\r\n              name: this.state.name,\r\n              email: email,\r\n              username: userName,\r\n              nameOfCompany: nameOfCompany,\r\n              phoneNumber: phoneNumber,\r\n              website: website,\r\n              address: address,\r\n              city: city,\r\n              postcode: postcode,\r\n            }}\r\n            onFinish={onFinish}\r\n            onFinishFailed={onFinishFailed}>\r\n            <Row>\r\n              <Col xs={24} sm={24} md={24} lg={16}>\r\n                <Row gutter={ROW_GUTTER}>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item\r\n                      label=\"Name\"\r\n                      name=\"name\"\r\n                      rules={[\r\n                        {\r\n                          required: true,\r\n                          message: 'Please input your name!',\r\n                        },\r\n                      ]}>\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item\r\n                      label=\"Username\"\r\n                      name=\"username\"\r\n                      rules={[\r\n                        {\r\n                          required: true,\r\n                          message: 'Please input your username!',\r\n                        },\r\n                      ]}>\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item\r\n                      label=\"Email\"\r\n                      name=\"email\"\r\n                      rules={[\r\n                        {\r\n                          required: true,\r\n                          type: 'email',\r\n                          message: 'Please enter a valid email!',\r\n                        },\r\n                      ]}>\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item label=\"Name of Company\" name=\"nameOfCompany\">\r\n                      <Input className=\"w-100\" />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item label=\"Phone Number\" name=\"phoneNumber\">\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item label=\"Website\" name=\"website\">\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={24}>\r\n                    <Form.Item label=\"Address\" name=\"address\">\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item label=\"City\" name=\"city\">\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                  <Col xs={24} sm={24} md={12}>\r\n                    <Form.Item label=\"Post code\" name=\"postcode\">\r\n                      <Input />\r\n                    </Form.Item>\r\n                  </Col>\r\n                </Row>\r\n                <Button type=\"primary\" htmlType=\"submit\">\r\n                  Save Change\r\n                </Button>\r\n              </Col>\r\n            </Row>\r\n          </Form>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default EditProfile;\r\n"],"sourceRoot":""}